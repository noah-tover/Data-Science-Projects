Identifying Fraud in Casino Transactions
By Noah Tover
In this project, I applied my data science skills to identify fraud in unlabeled casino transactions using R. This paper will outline my thought process, the methods used, and the decisions made. This project demonstrates my data science capabilities, creativity, and ability to keep pace in math heavy environments. Furthermore, this demonstrates some of my knowledge of machine learning, which I learned through MIT Open Course Ware and Datacamp. 
Overview
To preserve the confidentiality of this data, I will not provide plots or IDs. This dataset was composed of employee IDs, customer IDs, a transaction type (deposits and withdrawals), the size of the transactions, and the day. It represents the transactions of casino chips. For context, I have previously worked in a casino in a customer service role, so I am familiar with what goes on behind the scenes. This informed my analysis through identifying segments. In this scenario, false positives are worse than false negatives so I will focus on making my analysis as accurate as possible.


To begin my analysis, I cleaned the data. Then, I developed a plan to analyze the data through 4 methods. 
1. Analyzing outliers through cluster analysis.
2. Analyzing descriptive statistics of customer activities.
3. Analyzing customer and employee interactions.
4. Using Benford's law to subset customers and employees who frequently appear in suspicious transactions. 
For the first method, I decided to use a k-means clustering algorithm as the data is unlabeled. To set the foundation for this analysis, I used my experience from being employed in a casino to identify different customer segments in the data. By identifying customer segments, I can see which customers deviate from the norm for similar customers. The following is a list of customer segments: 
* Income - Some customers have more money and therefore tend to risk higher amounts.
* Dedication - Some customers spend more time in the casino. This is visible in the data through deposits per day, as many poker games take the same amount of time. 
* Skill/luck - Some customers are more skilled gamblers than others and have slightly better expected values. (That is not to say positive, as the house has the edge in the long run.)
* Time - Some people may go to the casino at specific times, therefore having more common pairings with certain employees. This is because shifts are somewhat static.
To do this, I calculated descriptive statistics on the customers' transactions. These statistics are return, win rate, expected value, average positive return, average negative return, average deposits per day, and average deposit size. Then, I confirmed the distributions were normal by calculating the skewness, kurtosis, shapiro test p value. I also used QQplots and visualized the histograms of the data at several bin widths. I also facet the distribution of size by type and discovered that withdrawals tended to be larger than deposits, which was somewhat unexpected as players should be losing money. Due to time constraints (university exams), I haven’t had the opportunity to analyze this further. Furthermore, I plot the boxplots of the transaction size to better view outliers. 


Clustering:
Next, I began to work on clustering the data. I chose to use the expected value, mean deposits, and mean deposits per day. I chose K using the elbow method. As my data had more than two dimensions, I decided to use a 3D dot plot. This dot plot showed that players who had high expected values tended to make less and smaller deposits, which is to be expected. This is because the more games you play, the more the casino’s edge is realized as stated by the law of large numbers. The cluster analysis revealed that some players had oddly high returns, and upon further inspection, unrealistic win rates. I marked these customers as cheaters if their expected value was positive, as this was extremely unlikely and odd for their cluster. Furthermore, their win rates were outliers as well, suggesting they had an edge others didn’t. I also noticed that some customers had oddly low expected values for their cluster. I flagged these customers to analyze the employees who processed their transactions. This is because employees who skim customers withdrawals will cause their expected value to drop significantly below the mean. I will explain this more later.
 Benford’s Law
Benford’s law states that the nth digit(s) of a truly random number will follow a type of logarithmic distribution known as the benford distribution. This can be denoted by log10(1+1/n). Deviations from Benford’s law indicate that the distribution has been manipulated. I analyzed the Benford’s distribution of returns (as a percentage of deposit) and found that certain numbers were extremely odd. I then subset employees and customers that appeared often in these Benford violating transactions. I was especially interested in those employees on the left tail of occurrences, as employees committing fraud will attempt to hide it. To confirm my beliefs, I plotted the QQplot of these subset returns in comparison to all returns and found that they were more left skewed, indicating that money was being skimmed. I flagged the employees resulting in these oddities as suspicious. 
Employee Customer Pairs
Finally, I analyzed the returns of an employee and customer who had multiple transactions together.  I found nothing particularly odd happening between them other than the pairing, so I did not mark them as suspicious.